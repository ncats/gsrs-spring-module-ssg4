#include "gsrs-core.conf"

##******* SUBSTANCE CONFIG BEGIN **************

ix.structure{
    base = ${ix.home}/structure
}
ix.sequence{
    base = ${ix.home}/sequence
}

#ix.core.structureIndex.atomLimit = 240

#ix.structure-hasher = "ix.core.chem.InchiStructureHasher"
#ix.structure-standardizer = "ix.core.chem.InchiStandardizer"

#ix.gsrs.delimitedreports.inchikeysforambiguousstereo=true
#List of ExportFactory classes that can export Substances
#the list of classes is ordered by priority
#if more than one Exporter supports the same file extension,
#the class in the list that supports it fist wins.


spring.jackson.deserialization.fail-on-unknown-properties=false

spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
#Disable Eureka Client by Default - change to true to turn eureka client on
#if no eureka server is found and client is enabled it will spam the console with errors every few seconds as it polls.
eureka.client.enabled= false

#Allows deep analysis of fields to do suggestions

#ix.index.deepfields = ["ix.ginas.models.v1.Substance"]
#ix.index.deepfieldsraw = "ix.ginas.models.v1.Substance"


# When an unspecified search happens, promote all
# exact matches that match specific fields over
# the rest of the matches. In other words,
# you can prioritize exact matches of "NAME"
# over exact matches of other fields

ix.core.exactsearchfields=[
        {
                "class":"ix.ginas.models.v1.Substance",
                "fields":[
                        "root_names_name",
                        "root_approvalID",
                        "root_codes_CAS",
                        "root_names_stdName"
                ]
        }
]

#ix.structure{
#    base = ${ix.home}/structure
#}
#ix.sequence{
#    base = ${ix.home}/sequence
#}
gsrs.rabbitmq.enabled = false


#server.servlet.session.cookie.name= "ix.session"

ix.core.structureIndex.atomLimit = 240

ix.structure-hasher = "ix.core.chem.InchiStructureHasher"
ix.structure-standardizer = "ix.core.chem.InchiStandardizer"

#*ix.json.typeIdResolvers = ["ix", "gsrs.module.substance"]


##############################################
# THIS IS IMPORTANT, ADDITION OF VALIDATORS!
##############################################

spring.application.name=substance

#logging.level.org.springframework.web=DEBUG

server.servlet-path=/loop-service

server.use-forward-headers=true

#ix.api.registeredfunctions =${ix.api.registeredfunctions}[
#        {
#                "class":"ix.core.util.pojopointer.extensions.InChIRegisteredFunction"
#        },
#        {
#                "class":"ix.core.util.pojopointer.extensions.InChIFullRegisteredFunction"
#        }
#]
#substance.renderer.style="CONF"
#substance.renderer.configPath="substances-default-renderer.json"

server.tomcat.relaxed-path-chars="<,>,[,\\,],^,`,{,|,}"


ix.gsrs.delimitedreports.inchikeysforambiguousstereo=true
#List of ExportFactory classes that can export Substances
#the list of classes is ordered by priority
#if more than one Exporter supports the same file extension,
#the class in the list that supports it fist wins.

ix.ginas.export.factories.substances = [
    #"gsrs.module.substance.ExtraColumnsSpreadsheetExporterFactory",
	"gsrs.module.substance.exporters.SdfExporterFactory",
	"gsrs.module.substance.exporters.DefaultSubstanceSpreadsheetExporterFactory",
	"gsrs.module.substance.exporters.JsonExporterFactory",
	#"ix.ginas.exporters.FDANameExporterFactory",
	#"ix.ginas.exporters.FDACodeExporterFactory",
#	"ix.ginas.exporters.SPLValidatorXMLExporterFactory",
 # "ix.ginas.exporters.SRSLegacyDictionaryExporterFactory"

]

gsrs.entityProcessors=[
{
"entityClassName" = "ix.ginas.models.v1.Substance",
"processor" = "gsrs.module.substance.processors.SubstanceProcessor"
},
#{
#"entityClassName" = "ix.ginas.models.v1.Substance",
#"processor" = "gsrs.module.substance.processors.ChemicalStructurePropertiesProcessor"
#},
{
"entityClassName" = "ix.ginas.models.v1.Substance",
"processor" = "gsrs.module.substance.processors.PublicTagFlagger"
},
{
"entityClassName" = "ix.ginas.models.v1.Reference",
"processor" = "gsrs.module.substance.processors.ReferenceProcessor"
},
{
"entityClassName" = "ix.ginas.models.v1.Substance",
"processor" = "gsrs.module.substance.processors.RelationshipProcessor"
},

#{
#	"entityClassName" = "ix.ginas.models.v1.Substance",
#	"processor" = "gsrs.module.substance.processors.ApprovalIdProcessor"
#},
{
	"entityClassName" = "ix.ginas.models.v1.Substance",
	"processor" = "gsrs.module.substance.processors.GroupProcessor"
}
]

## Disable MOLWITCH
gsrs.substances.molwitch.enabled=false

##******* SUBSTANCE CONFIG END ******************

##******* SSG$ CONFIG BEGIN **************

##******* SSG4 CONFIG END ***************